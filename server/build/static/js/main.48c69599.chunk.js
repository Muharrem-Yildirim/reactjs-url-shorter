(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{133:function(e,t,n){e.exports=n(246)},138:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(37),i=n.n(l),o=(n(138),n(6)),s=n(32),c=n(57),u=n(58),h=n(120),d=n(119),m=n(31),p=n(300),f=n(302),v=n(296),g=n(288),b=n(303),E=n(297),y=n(304),O=n(305),I=n(14),R=n(298),j=n(299),k=n(16),C=function(){return JSON.parse(localStorage.getItem("shorten_history"))||[]},S=function(e){return null===e?"":e.replace(/^http(s?):\/\//i,"")},w=n(290),x=n(294),U=n(295),W=n(114),J=n.n(W);function L(e){var t=e.el,n=e.idx;return r.a.createElement(w.a,null,r.a.createElement(x.a,null,n+1),r.a.createElement(U.a,{id:"switch-list-label-bluetooth",primary:r.a.createElement("span",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"}},S(t[0])," ",r.a.createElement(J.a,{style:{marginLeft:10,marginRight:10}})," ",S(t[1]))}))}var T,N=n(65),H=Object(N.a)(E.a)(T||(T=Object(m.a)(["\n  margin-left: auto;\n  margin-right: auto;\n"]))),_=a.forwardRef((function(e,t){var n=a.useState(C()),r=Object(I.a)(n,2),l=r[0],i=r[1],o=a.useRef();a.useImperativeHandle(t,(function(){return{reload:function(){i(C()),s()}}})),a.useEffect((function(){s()}),[]);var s=function(){setTimeout((function(){null!=o.current&&(o.current.scrollTop=99999)}),100)};return 0===l.length?a.createElement(v.a,{variant:"p",align:"center",style:{display:"block"}},"Shortened links history is empty."):a.createElement("div",{style:{width:"100%",position:"relative"}},a.createElement(R.a,{sx:{width:"100%",maxHeight:"200px",overflow:"auto",bgcolor:"background.paper"},ref:o,subheader:a.createElement(j.a,null,"Shortened links history")},l.map((function(e,t){return a.createElement(L,{el:e,idx:t,key:t})}))),a.createElement("div",{style:{width:"100%",marginTop:20,marginBottom:5,display:"flex"}},a.createElement(H,{variant:"contained",color:"secondary",onClick:e.onClickClear,size:"sm"},"Clear History")))})),B=n(117);var P,A=n.n(B).a,z=n(68),M=n.n(z),q=Object(N.a)(p.a)(P||(P=Object(m.a)(["\n  @media (max-width: 1200px) {\n    border: 0px !important;\n    box-shadow: none;\n  }\n"]))),D=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onClickShorten=function(){var e=a.listRef.current;null!==e&&(a.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{waitingResponse:!0,shortenedResponse:null})})),A.post("/short",{url:a.state.url}).then((function(t){var n,r=t.data;n=[r.originalUrl,r.shortUrl],localStorage.setItem("shorten_history",JSON.stringify([].concat(Object(k.a)(C()),[n]))),a.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{url:"",waitingResponse:!1,isInteractedWithInput:!1,shortenedResponse:r})})),e.reload()})).catch((function(e){var t,n;alert((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||e.response.data||"Unknown error occured."),a.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{waitingResponse:!1,isInteractedWithInput:!0})}))})))},a.onClickClear=function(){var e=a.listRef.current;null!==e&&(localStorage.setItem("shorten_history",JSON.stringify([])),e.reload())},a.getHistory=function(){return JSON.parse(localStorage.getItem("shorten_history"))||[]},a.onInputChange=function(e){var t=e.target;a.setState((function(e){var n;return Object(s.a)(Object(s.a)({},e),{},(n={},Object(o.a)(n,t.name,t.value.replace(" ","")),Object(o.a)(n,"isInteractedWithInput",!0),n))}))},a.listRef=r.a.createRef(null),a.state={shortenedResponse:null,canPressShorten:!0,isInteractedWithInput:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e,t,n=this;return r.a.createElement(q,{sx:{minWidth:275}},r.a.createElement(f.a,null,r.a.createElement(v.a,{variant:"h6"},"Please enter url to short link."),r.a.createElement(g.a,{fullWidth:!0,style:{marginTop:10},placeholder:"https://example.com",disabled:this.state.waitingResponse,onChange:this.onInputChange,value:this.state.url||"",name:"url",error:!M.a.isURL(this.state.url||"")&&this.state.isInteractedWithInput&&""!==this.state.url,helperText:!M.a.isURL(this.state.url||"")&&this.state.isInteractedWithInput&&""!==this.state.url&&"Link is not valid.",InputProps:{endAdornment:r.a.createElement(b.a,{position:"end"},null===(e=this.state.shortenedResponse)||void 0===e?void 0:e.shortUrl,r.a.createElement(E.a,{style:{marginLeft:5},onClick:function(){var e;navigator.clipboard.writeText(null===(e=n.state.shortenedResponse)||void 0===e?void 0:e.shortUrl)},disabled:void 0===(null===(t=this.state.shortenedResponse)||void 0===t?void 0:t.shortUrl)},"Copy"))}})),r.a.createElement(y.a,null,r.a.createElement(H,{variant:"contained",color:"primary",style:{marginBottom:20},onClick:this.onClickShorten,disabled:this.state.waitingResponse||!M.a.isURL(this.state.url||"")},"Shorten")),r.a.createElement(O.a,null),r.a.createElement(f.a,null,r.a.createElement(_,{ref:this.listRef,onClickClear:this.onClickClear})))}}]),n}(r.a.Component),F=n(292),G=n(118),K=n(293),Q=n(287);var V=function(){var e=r.a.useMemo((function(){return Object(G.a)({palette:{mode:"light"}})}),[!1]);return r.a.createElement(K.a,{theme:e},r.a.createElement(Q.a,null),r.a.createElement(F.a,{container:!0,className:"App"},r.a.createElement(F.a,{item:!0,lg:5,md:12},r.a.createElement(D,null))))};n(241);i.a.render(r.a.createElement(V,null),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.48c69599.chunk.js.map