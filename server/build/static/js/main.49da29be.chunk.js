(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{133:function(e,t,n){e.exports=n(246)},138:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(36),i=n.n(l),o=(n(138),n(6)),s=n(31),c=n(57),u=n(58),h=n(120),d=n(119),m=n(300),p=n(302),f=n(296),v=n(288),g=n(303),b=n(297),E=n(304),y=n(305),O=n(14),I=n(298),R=n(299),k=n(16),j=function(){return JSON.parse(localStorage.getItem("shorten_history"))||[]},C=function(e){return e.replace(/^http(s?):\/\//i,"")},S=n(290),w=n(294),x=n(295),U=n(113),W=n.n(U);function J(e){var t=e.el,n=e.idx;return r.a.createElement(S.a,null,r.a.createElement(w.a,null,n+1),r.a.createElement(x.a,{id:"switch-list-label-bluetooth",primary:r.a.createElement("span",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"}},C(t[0])," ",r.a.createElement(W.a,{style:{marginLeft:10,marginRight:10}})," ",C(t[1]))}))}var L,T=n(39),N=n(114),H=Object(N.a)(b.a)(L||(L=Object(T.a)(["\n  margin-left: auto;\n  margin-right: auto;\n"]))),_=a.forwardRef((function(e,t){var n=a.useState(j()),r=Object(O.a)(n,2),l=r[0],i=r[1],o=a.useRef();a.useImperativeHandle(t,(function(){return{reload:function(){i(j()),s()}}})),a.useEffect((function(){s()}),[]);var s=function(){setTimeout((function(){null!=o.current&&(o.current.scrollTop=99999)}),100)};return 0===l.length?a.createElement(f.a,{variant:"p",align:"center",style:{display:"block"}},"Shortened links history is empty."):a.createElement("div",{style:{width:"100%",position:"relative"}},a.createElement(I.a,{sx:{width:"100%",maxHeight:"200px",overflow:"auto",bgcolor:"background.paper"},ref:o,subheader:a.createElement(R.a,null,"Shortened links history")},l.map((function(e,t){return a.createElement(J,{el:e,idx:t,key:t})}))),a.createElement("div",{style:{width:"100%",marginTop:20,marginBottom:5,display:"flex"}},a.createElement(H,{variant:"contained",color:"secondary",onClick:e.onClickClear,size:"sm"},"Clear History")))})),B=n(117);var P=n.n(B).a,A=n(67),z=n.n(A),M=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onClickShorten=function(){var e=a.listRef.current;null!==e&&(a.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{waitingResponse:!0,shortenedResponse:null})})),P.post("/short",{url:a.state.url}).then((function(t){var n,r=t.data;n=[r.originalUrl,r.shortUrl],localStorage.setItem("shorten_history",JSON.stringify([].concat(Object(k.a)(j()),[n]))),a.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{url:"",waitingResponse:!1,isInteractedWithInput:!1,shortenedResponse:r})})),e.reload()})).catch((function(e){var t,n;alert((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||e.response.data||"Unknown error occured."),a.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{waitingResponse:!1,isInteractedWithInput:!0})}))})))},a.onClickClear=function(){var e=a.listRef.current;null!==e&&(localStorage.setItem("shorten_history",JSON.stringify([])),e.reload())},a.getHistory=function(){return JSON.parse(localStorage.getItem("shorten_history"))||[]},a.onInputChange=function(e){var t=e.target;a.setState((function(e){var n;return Object(s.a)(Object(s.a)({},e),{},(n={},Object(o.a)(n,t.name,t.value.replace(" ","")),Object(o.a)(n,"isInteractedWithInput",!0),n))}))},a.listRef=r.a.createRef(null),a.state={shortenedResponse:null,canPressShorten:!0,isInteractedWithInput:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e,t,n=this;return r.a.createElement(m.a,{sx:{minWidth:275}},r.a.createElement(p.a,null,r.a.createElement(f.a,{variant:"h6"},"Please enter url to short link."),r.a.createElement(v.a,{fullWidth:!0,style:{marginTop:10},placeholder:"https://example.com",disabled:this.state.waitingResponse,onChange:this.onInputChange,value:this.state.url||"",name:"url",error:!z.a.isURL(this.state.url||"")&&this.state.isInteractedWithInput&&""!==this.state.url,helperText:!z.a.isURL(this.state.url||"")&&this.state.isInteractedWithInput&&""!==this.state.url&&"Link is not valid.",InputProps:{endAdornment:r.a.createElement(g.a,{position:"end"},null===(e=this.state.shortenedResponse)||void 0===e?void 0:e.shortUrl,r.a.createElement(b.a,{style:{marginLeft:5},onClick:function(){var e;navigator.clipboard.writeText(null===(e=n.state.shortenedResponse)||void 0===e?void 0:e.shortUrl)},disabled:void 0===(null===(t=this.state.shortenedResponse)||void 0===t?void 0:t.shortUrl)},"Copy"))}})),r.a.createElement(E.a,null,r.a.createElement(H,{variant:"contained",color:"primary",style:{marginBottom:20},onClick:this.onClickShorten,disabled:this.state.waitingResponse||!z.a.isURL(this.state.url||"")},"Shorten")),r.a.createElement(y.a,null),r.a.createElement(p.a,null,r.a.createElement(_,{ref:this.listRef,onClickClear:this.onClickClear})))}}]),n}(r.a.Component),q=n(292),D=n(118),F=n(293),G=n(287);var K=function(){var e=r.a.useMemo((function(){return Object(D.a)({palette:{mode:"light"}})}),[!1]);return r.a.createElement(F.a,{theme:e},r.a.createElement(G.a,null),r.a.createElement(q.a,{container:!0,className:"App"},r.a.createElement(q.a,{item:!0,lg:5,md:12},r.a.createElement(M,null))))};n(241);i.a.render(r.a.createElement(K,null),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.49da29be.chunk.js.map