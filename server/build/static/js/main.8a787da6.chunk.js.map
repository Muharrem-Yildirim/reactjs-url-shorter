{"version":3,"sources":["utils.js","components/ShortenedLink.js","styles/CenteredButton.js","components/ShortenedLinkList.js","axios.js","components/Main.js","App.js","index.js"],"names":["getHistory","JSON","parse","localStorage","getItem","ShortenedLink","el","idx","ListItem","ListItemIcon","ListItemText","id","primary","style","display","alignItems","flexWrap","marginLeft","marginRight","CenteredButton","styled","Button","ShortenedLinkList","React","props","ref","history","setHistory","listRef","reload","scrollToBottom","setTimeout","current","scrollTop","length","Typography","variant","align","width","position","List","sx","maxHeight","overflow","bgcolor","subheader","ListSubheader","map","marginTop","marginBottom","color","onClick","onClickClear","size","axios","Cardd","onClickShorten","setState","prevState","waitingResponse","shortenedResponse","post","url","state","then","newRow","data","originalUrl","shortUrl","setItem","stringify","isInteractedWithInput","console","log","catch","err","response","alert","message","onInputChange","target","name","value","replace","createRef","canPressShorten","Card","minWidth","CardContent","TextField","fullWidth","placeholder","disabled","this","onChange","error","validator","isURL","helperText","InputProps","endAdornment","InputAdornment","navigator","clipboard","writeText","undefined","CardActions","Divider","Component","App","theme","useMemo","createTheme","palette","mode","ThemeProvider","CssBaseline","className","Grid","sm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8a787da6.chunk.js","sourcesContent":["const getHistory = () => {\r\n  return JSON.parse(localStorage.getItem(\"shorten_history\")) || [];\r\n};\r\n\r\nconst saveHistory = (newRow) => {\r\n  localStorage.setItem(\r\n    \"shorten_history\",\r\n    JSON.stringify([...getHistory(), newRow])\r\n  );\r\n};\r\n\r\nconst clearHistory = () => {\r\n  localStorage.setItem(\"shorten_history\", JSON.stringify([]));\r\n};\r\n\r\nexport { getHistory, saveHistory, clearHistory };\r\n","import React from \"react\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport KeyboardArrowRightIcon from \"@mui/icons-material/KeyboardArrowRight\";\r\n\r\nexport default function ShortenedLink({ el, idx }) {\r\n  return (\r\n    <ListItem>\r\n      <ListItemIcon>{idx + 1}</ListItemIcon>\r\n      <ListItemText\r\n        id=\"switch-list-label-bluetooth\"\r\n        primary={\r\n          <span\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              flexWrap: \"wrap\",\r\n            }}\r\n          >\r\n            {el[0]}{\" \"}\r\n            <KeyboardArrowRightIcon\r\n              style={{ marginLeft: 10, marginRight: 10 }}\r\n            />{\" \"}\r\n            {el[1]}\r\n          </span>\r\n        }\r\n      />\r\n      {/* <Switch\r\n        edge=\"end\"\r\n        inputProps={{\r\n          \"aria-labelledby\": \"switch-list-label-bluetooth\",\r\n        }}\r\n      /> */}\r\n    </ListItem>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { Button } from \"@mui/material\";\r\n\r\nconst CenteredButton = styled(Button)`\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport default CenteredButton;\r\n","import * as React from \"react\";\r\nimport { List, Typography, ListSubheader } from \"@mui/material\";\r\nimport { getHistory } from \"../utils\";\r\nimport ShortenedLink from \"./ShortenedLink\";\r\nimport CenteredButton from \"../styles/CenteredButton\";\r\n\r\nconst ShortenedLinkList = React.forwardRef((props, ref) => {\r\n  const [history, setHistory] = React.useState(getHistory());\r\n  const listRef = React.useRef();\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    reload() {\r\n      setHistory(getHistory());\r\n\r\n      scrollToBottom();\r\n    },\r\n  }));\r\n\r\n  React.useEffect(() => {\r\n    scrollToBottom();\r\n  }, []);\r\n\r\n  const scrollToBottom = () => {\r\n    setTimeout(() => {\r\n      if (listRef.current != null) listRef.current.scrollTop = 99999;\r\n    }, 100);\r\n  };\r\n\r\n  return history.length === 0 ? (\r\n    <Typography variant=\"p\" align=\"center\" style={{ display: \"block\" }}>\r\n      Shortened links history is empty.\r\n    </Typography>\r\n  ) : (\r\n    <div style={{ width: \"100%\", position: \"relative\" }}>\r\n      <List\r\n        sx={{\r\n          width: \"100%\",\r\n          maxHeight: \"200px\",\r\n          overflow: \"auto\",\r\n          bgcolor: \"background.paper\",\r\n        }}\r\n        ref={listRef}\r\n        subheader={<ListSubheader>Shortened links history</ListSubheader>}\r\n      >\r\n        {history.map(function (el, idx) {\r\n          return <ShortenedLink el={el} idx={idx} />;\r\n        })}\r\n      </List>\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          marginTop: 20,\r\n          marginBottom: 5,\r\n          display: \"flex\",\r\n        }}\r\n      >\r\n        <CenteredButton\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={props.onClickClear}\r\n          size=\"sm\"\r\n        >\r\n          Clear History\r\n        </CenteredButton>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ShortenedLinkList;\r\n","import axios from \"axios\";\r\n\r\nif (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n  axios.defaults.baseURL = \"http://localhost:1337\";\r\n}\r\n\r\nexport default axios;\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  Button,\r\n  TextField,\r\n  Typography,\r\n  InputAdornment,\r\n  Divider,\r\n} from \"@mui/material\";\r\nimport ShortenedLinkList from \"./ShortenedLinkList\";\r\nimport { saveHistory, clearHistory } from \"../utils\";\r\n\r\nimport CenteredButton from \"../styles/CenteredButton\";\r\nimport axios from \"../axios\";\r\nimport validator from \"validator\";\r\n\r\nexport default class Cardd extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.listRef = React.createRef(null);\r\n    this.state = {\r\n      shortenedResponse: null,\r\n      canPressShorten: true,\r\n      isInteractedWithInput: false,\r\n      // shortenedResponse: { shortenedLink: \"\" },\r\n    };\r\n  }\r\n\r\n  onClickShorten = () => {\r\n    const listRef = this.listRef.current;\r\n\r\n    if (listRef === null) return;\r\n\r\n    this.setState((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        waitingResponse: true,\r\n        shortenedResponse: null,\r\n      };\r\n    });\r\n\r\n    axios\r\n      .post(\"/short\", { url: this.state.url })\r\n      .then(({ data }) => {\r\n        saveHistory([data.originalUrl, data.shortUrl]);\r\n\r\n        this.setState((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            url: \"\",\r\n            waitingResponse: false,\r\n            isInteractedWithInput: false,\r\n            shortenedResponse: data,\r\n          };\r\n        });\r\n\r\n        console.log(data);\r\n\r\n        listRef.reload();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.response.data);\r\n        alert(\r\n          err.response?.data?.message ||\r\n            err.response.data ||\r\n            \"Unknown error occured.\"\r\n        );\r\n\r\n        this.setState((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            waitingResponse: false,\r\n            isInteractedWithInput: true,\r\n          };\r\n        });\r\n      });\r\n  };\r\n\r\n  onClickClear = () => {\r\n    const listRef = this.listRef.current;\r\n\r\n    if (listRef === null) return;\r\n\r\n    clearHistory();\r\n\r\n    listRef.reload();\r\n  };\r\n\r\n  getHistory = () => {\r\n    return JSON.parse(localStorage.getItem(\"shorten_history\")) || [];\r\n  };\r\n\r\n  onInputChange = ({ target }) => {\r\n    this.setState((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        [target.name]: target.value.replace(\" \", \"\"),\r\n        isInteractedWithInput: true,\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Card sx={{ minWidth: 275 }}>\r\n        <CardContent>\r\n          <Typography variant=\"h6\">Please enter url to short link.</Typography>\r\n          {/* <Typography variant=\"h4\">Please enter url to short link.</Typography>\r\n        <Typography variant=\"p\">Please enter url to short link.</Typography> */}\r\n          <TextField\r\n            fullWidth\r\n            style={{ marginTop: 10 }}\r\n            placeholder=\"https://example.com\"\r\n            // startAdornment={\r\n            //   <InputAdornment position=\"start\">\r\n            //     {document.location.host}/\r\n            //   </InputAdornment>\r\n            // }\r\n            disabled={this.state.waitingResponse}\r\n            onChange={this.onInputChange}\r\n            value={this.state.url || \"\"}\r\n            name=\"url\"\r\n            error={\r\n              !validator.isURL(this.state.url || \"\") &&\r\n              this.state.isInteractedWithInput &&\r\n              this.state.url !== \"\"\r\n            }\r\n            helperText={\r\n              !validator.isURL(this.state.url || \"\") &&\r\n              this.state.isInteractedWithInput &&\r\n              this.state.url !== \"\" &&\r\n              \"Link is not valid.\"\r\n            }\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  {this.state.shortenedResponse?.shortUrl}\r\n                  <Button\r\n                    style={{ marginLeft: 5 }}\r\n                    onClick={() => {\r\n                      navigator.clipboard.writeText(\r\n                        this.state.shortenedResponse?.shortUrl\r\n                      );\r\n                    }}\r\n                    disabled={\r\n                      this.state.shortenedResponse?.shortUrl === undefined\r\n                    }\r\n                  >\r\n                    Copy\r\n                  </Button>\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </CardContent>\r\n        <CardActions>\r\n          <CenteredButton\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            style={{ marginBottom: 20 }}\r\n            onClick={this.onClickShorten}\r\n            disabled={\r\n              this.state.waitingResponse ||\r\n              !validator.isURL(this.state.url || \"\")\r\n            }\r\n          >\r\n            Shorten\r\n          </CenteredButton>\r\n        </CardActions>\r\n        <Divider />\r\n        <CardContent>\r\n          <ShortenedLinkList\r\n            ref={this.listRef}\r\n            onClickClear={this.onClickClear}\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n","import \"./App.scss\";\nimport Main from \"./components/Main\";\nimport Grid from \"@mui/material/Grid\";\nimport React from \"react\";\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\n// import useMediaQuery from \"@mui/material/useMediaQuery\";\n\nfunction App() {\n  const prefersDarkMode = false; //useMediaQuery(\"(prefers-color-scheme: dark)\");\n\n  const theme = React.useMemo(\n    () =>\n      createTheme({\n        palette: {\n          mode: prefersDarkMode ? \"dark\" : \"light\",\n        },\n      }),\n    [prefersDarkMode]\n  );\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <div className=\"App\">\n        <Grid sm={5}>\n          <Main />\n        </Grid>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"dotenv\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}