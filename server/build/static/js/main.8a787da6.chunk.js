(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{133:function(e,t,n){e.exports=n(246)},138:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(36),i=n.n(l),o=(n(138),n(6)),s=n(31),c=n(57),u=n(58),h=n(120),d=n(119),m=n(303),p=n(305),f=n(299),v=n(291),g=n(306),b=n(300),E=n(307),y=n(308),O=n(14),I=n(301),R=n(302),j=n(16),k=function(){return JSON.parse(localStorage.getItem("shorten_history"))||[]},C=n(293),S=n(297),w=n(298),x=n(113),U=n.n(x);function W(e){var t=e.el,n=e.idx;return r.a.createElement(C.a,null,r.a.createElement(S.a,null,n+1),r.a.createElement(w.a,{id:"switch-list-label-bluetooth",primary:r.a.createElement("span",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"}},t[0]," ",r.a.createElement(U.a,{style:{marginLeft:10,marginRight:10}})," ",t[1])}))}var J,L=n(39),T=n(114),N=Object(T.a)(b.a)(J||(J=Object(L.a)(["\n  margin-left: auto;\n  margin-right: auto;\n"]))),H=a.forwardRef((function(e,t){var n=a.useState(k()),r=Object(O.a)(n,2),l=r[0],i=r[1],o=a.useRef();a.useImperativeHandle(t,(function(){return{reload:function(){i(k()),s()}}})),a.useEffect((function(){s()}),[]);var s=function(){setTimeout((function(){null!=o.current&&(o.current.scrollTop=99999)}),100)};return 0===l.length?a.createElement(f.a,{variant:"p",align:"center",style:{display:"block"}},"Shortened links history is empty."):a.createElement("div",{style:{width:"100%",position:"relative"}},a.createElement(I.a,{sx:{width:"100%",maxHeight:"200px",overflow:"auto",bgcolor:"background.paper"},ref:o,subheader:a.createElement(R.a,null,"Shortened links history")},l.map((function(e,t){return a.createElement(W,{el:e,idx:t})}))),a.createElement("div",{style:{width:"100%",marginTop:20,marginBottom:5,display:"flex"}},a.createElement(N,{variant:"contained",color:"secondary",onClick:e.onClickClear,size:"sm"},"Clear History")))})),_=n(117);var B=n.n(_).a,P=n(67),A=n.n(P),z=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onClickShorten=function(){var e=a.listRef.current;null!==e&&(a.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{waitingResponse:!0,shortenedResponse:null})})),B.post("/short",{url:a.state.url}).then((function(t){var n,r=t.data;n=[r.originalUrl,r.shortUrl],localStorage.setItem("shorten_history",JSON.stringify([].concat(Object(j.a)(k()),[n]))),a.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{url:"",waitingResponse:!1,isInteractedWithInput:!1,shortenedResponse:r})})),console.log(r),e.reload()})).catch((function(e){var t,n;console.log(e.response.data),alert((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||e.response.data||"Unknown error occured."),a.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{waitingResponse:!1,isInteractedWithInput:!0})}))})))},a.onClickClear=function(){var e=a.listRef.current;null!==e&&(localStorage.setItem("shorten_history",JSON.stringify([])),e.reload())},a.getHistory=function(){return JSON.parse(localStorage.getItem("shorten_history"))||[]},a.onInputChange=function(e){var t=e.target;a.setState((function(e){var n;return Object(s.a)(Object(s.a)({},e),{},(n={},Object(o.a)(n,t.name,t.value.replace(" ","")),Object(o.a)(n,"isInteractedWithInput",!0),n))}))},a.listRef=r.a.createRef(null),a.state={shortenedResponse:null,canPressShorten:!0,isInteractedWithInput:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e,t,n=this;return r.a.createElement(m.a,{sx:{minWidth:275}},r.a.createElement(p.a,null,r.a.createElement(f.a,{variant:"h6"},"Please enter url to short link."),r.a.createElement(v.a,{fullWidth:!0,style:{marginTop:10},placeholder:"https://example.com",disabled:this.state.waitingResponse,onChange:this.onInputChange,value:this.state.url||"",name:"url",error:!A.a.isURL(this.state.url||"")&&this.state.isInteractedWithInput&&""!==this.state.url,helperText:!A.a.isURL(this.state.url||"")&&this.state.isInteractedWithInput&&""!==this.state.url&&"Link is not valid.",InputProps:{endAdornment:r.a.createElement(g.a,{position:"end"},null===(e=this.state.shortenedResponse)||void 0===e?void 0:e.shortUrl,r.a.createElement(b.a,{style:{marginLeft:5},onClick:function(){var e;navigator.clipboard.writeText(null===(e=n.state.shortenedResponse)||void 0===e?void 0:e.shortUrl)},disabled:void 0===(null===(t=this.state.shortenedResponse)||void 0===t?void 0:t.shortUrl)},"Copy"))}})),r.a.createElement(E.a,null,r.a.createElement(N,{variant:"contained",color:"primary",style:{marginBottom:20},onClick:this.onClickShorten,disabled:this.state.waitingResponse||!A.a.isURL(this.state.url||"")},"Shorten")),r.a.createElement(y.a,null),r.a.createElement(p.a,null,r.a.createElement(H,{ref:this.listRef,onClickClear:this.onClickClear})))}}]),n}(r.a.Component),M=n(295),q=n(118),D=n(296),F=n(290);var G=function(){var e=r.a.useMemo((function(){return Object(q.a)({palette:{mode:"light"}})}),[!1]);return r.a.createElement(D.a,{theme:e},r.a.createElement(F.a,null),r.a.createElement("div",{className:"App"},r.a.createElement(M.a,{sm:5},r.a.createElement(z,null))))};n(241);i.a.render(r.a.createElement(G,null),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.8a787da6.chunk.js.map